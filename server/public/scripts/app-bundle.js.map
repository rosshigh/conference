{"version":3,"sources":["app.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/app.html","environment.js","main.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/abstractEdit.html","modules/home/agenda.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/agenda.html","modules/home/contact.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/contact.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/guidelines.html","modules/home/home.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/home.html","modules/home/landing.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/landing.html","modules/home/logistics.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/logistics.html","modules/home/milwaukee.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/milwaukee.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/mySubmissions.html","modules/home/register.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/register.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/registerPanel.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/reviewersTable.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/submissionsTable.html","modules/home/submit.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/submit.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/submitReview.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/submitTabs.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/modules/home/userSubmit.html","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/resources/css/styles.css","resources/data/auth.js","resources/data/dataServices.js","resources/data/services.js","resources/elements/nav-bar.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/resources/elements/nav-bar.html","resources/elements/table-navigation-bar.js","c:/Users/rhigh/OneDrive/Documents/GitHub/conference/conference/client/src/resources/elements/table-navigation-bar.html","resources/index.js","resources/utils/dataTable.js","resources/utils/utils.js","resources/utils/validation.js","resources/value-converters/available-reviewers.js","resources/value-converters/reviewers.js"],"names":["App","configureRouter","config","router","map","route","moduleId","name","settings","auth","roles","title","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","environment","plugin","start","then","setRoot","Agenda","Services","services","sundayArray","mondayArray","activate","getAgenda","agendaArray","forEach","item","agendaDate","indexOf","sundayFirstItem","push","mondayFirstItem","sundayRowSpan","length","mondayRowSpan","Contact","Home","Landing","Logistics","showImage","showThisImage","index","setInterval","Milwaukee","Register","Validation","Router","validation","initialize","toastr","options","extendedTimeOut","timeOut","_setupValidation","addRule","context","email","password","password_repeat","save","validate","person","firstName","lastName","university","saveRegister","response","navigate","Submit","Auth","DataTable","dataTable","userObj","JSON","parse","sessionStorage","getItem","filesToUpload","Array","showTable","tracks","status","loginSuccess","track","showRegister","showRegisterPanel","setItem","stringify","isAuthenticated","submit","abstract","description","personId","_id","saveAbstract","error","getPersonAbstracts","files","changeFiles","login","loginError","refresh","getAbstracts","getPeople","adminRole","role","updateArray","allAbstractArray","addReviewer","savePerson","removeReviewer","split","join","edit","getAbstract","addReviewerToAbstract","reviewers","saveAbstractReviewer","abstracts","removeReviewerFromAbstract","filteredReviewers","filter","value","arr","responseOne","filteredAbstracts","saveEditAbstract","cancelEdit","downloadInstExcel","csvContent","baseArray","facInfo","encodedUri","encodeURI","link","document","createElement","setAttribute","body","appendChild","click","nameCustomFilter","firstNameFilter","toUpperCase","lastNameFilter","uploadReview","saveReview","showReviews","submission","selectedSubmission","emailCustomFilter","titleCustomFilter","fileCustomFilter","file","originalFileName","customNameSorter","sortProperty","sortDirection","sortArray","sort","a","b","result","customEmailSorter","customTitleSorter","customTrackSorter","customStatusSorter","EventAggregator","DataServices","eventAggregator","data","loginUrl","logoutUrl","content","token","user","publish","logout","saveObject","removeItem","exp","base64Url","base64","replace","window","atob","Math","round","Date","getTime","HttpClient","http","isRequesting","FILE_URL","FILE_DOWNLOAD_URL","IS4UA","CLIENTS_SERVICE","DELETE_ALL_CLIENTS","COURSES_SERVICE","PERSON_COURSES_SERVICE","CONFIG_SERVICE","SESSIONS_CONFIG_SERVICE","DOCUMENTS_FILE_UPLOAD","x","withBaseUrl","get","url","createRequest","asGet","withHeader","send","isSuccess","catch","e","console","log","code","statusCode","message","statusText","getNoAuth","method","asPut","withContent","asPost","deleteObject","asDelete","sendMail","uploadFiles","progress","formData","FormData","append","skipContentProcessing","processError","obj","msg","undefined","object","uploadFile","uploadResponse","id","abstractArray","peopleArray","NavBar","subscription","attached","Object","TableNavigationBar","bindable","globalResources","Utils","utils","currentPage","pages","rowOptions","filterValues","displayLength","DEFAULT_TAKE","DEFAULT_START","currentPageElement","startRecord","take","firstVisible","lastVisible","numRowsShown","toString","active","pageOne","setTimeout","$","children","removeClass","addClass","createPageButtons","parseInt","maxButtons","pageButtons","numPageButtons","ceil","j","i","buildDisplayArray","displayArray","forward","tk","createPage","backward","pageButton","el","target","closest","updateTake","filterList","array","preventDefault","property","type","selectedIndex","compare","attr","sourceArray","lookupArray","properties","collectionProperty","condition","isArray","applyFilters","filters","keep","that","filterItem","matchValue","eval","dt","format","isAfter","isSame","reSort","lastOption","lastEl","sortDirectionParam","propertyName","next","replaceWith","icon","sorter","copyArray","searchProperty","findObj","surrogateArray","surrogateProperty","propertyValue","baseIndex","originalIndex","updateArrayMaintainFilters","getOriginalIndex","Notification","notification","waitForMove","guid","c","r","random","v","showNotification","countItems","itemArray","countArray","arrayContainsValue","objectsEqual","obj1","obj2","skip","changes","skipArray","hasOwnProperty","arraysEqual","oldValue","newValue","date1","date2","areEqual","array1","array2","newArray","copyObject","objFrom","objTo","isObject","toCamelCase","str","toLowerCase","$1","lookupValue","lookUpProperty","returnProperty","isMobile","device","navigator","userAgent","match","ruleGroups","rules","ruleGroup","field","rule","blur","validateRule","k","fieldArray","ruleArray","fields","found","valid","thisValid","_inValidate","is","html","parent","hasClass","after","makeValid","makeAllValid","valFunction","ruleValue","clearRules","clearRuleGroup","group","splice","AvailableReviewersValueConverter","toView","availableReviewers","item2","ReviewersValueConverter","reviewerArray","nonReviewerArray","fromView"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    this.router = router;\n    config.map([\n      {\n        route: ['', 'landing'],\n        moduleId: './modules/home/landing',\n        name: 'Landing',\n        settings: { auth: false, roles: [] },\n        title: 'SAP Next-Gen Chapter Conference 2019'\n      },\n      {\n        route: 'home',\n        moduleId: './modules/home/home',\n        name: 'Home',\n        settings: { auth: false, roles: [] },\n        title: 'SAP Next-Gen Chapter Conference 2019'\n      },\n      {\n        route: 'register',\n        moduleId: './modules/home/register',\n        name: 'Register',\n        settings: { auth: false, roles: [] },\n        title: 'SAP Next-Gen Chapter Conference 2019'\n      },\n      {\n        route: 'logistics',\n        moduleId: './modules/home/logistics',\n        name: 'Logistics',\n        settings: { auth: false, roles: [] },\n        title: 'SAP Next-Gen Chapter Conference 2019'\n      },\n      {\n        route: 'agenda',\n        moduleId: './modules/home/agenda',\n        name: 'Agenda',\n        settings: { auth: false, roles: [] },\n        title: 'SAP Next-Gen Chapter Conference 2019'\n      },\n      {\n        route: 'submit',\n        moduleId: './modules/home/submit',\n        name: 'Submission',\n        settings: { auth: false, roles: [] },\n        title: 'SAP Next-Gen Chapter Conference 2019'\n      },\n      {\n        route: 'contact',\n        moduleId: './modules/home/contact',\n        name: 'Contact',\n        settings: { auth: false, roles: [] },\n        title: 'SAP Next-Gen Chapter Conference 2019'\n      }\n    ])\n  }\n}\n",null,"export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  aurelia.use.developmentLogging(environment.debug ? 'debug' : 'warn');\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  return aurelia.start().then(() => aurelia.setRoot());\n}\n",null,"import { inject } from 'aurelia-framework';\r\nimport { Services } from '../../resources/data/services';\r\n\r\n@inject(Services)\r\nexport class Agenda {\r\n\r\n    constructor(services){\r\n        this.services = services;\r\n        this.sundayArray = [];\r\n        this.mondayArray = [];\r\n    }\r\n\r\n    async activate(){\r\n        await this.services.getAgenda();\r\n        this.services.agendaArray.forEach(item => {\r\n            if(item.agendaDate.indexOf('Sunday') > -1){\r\n                if(this.sundayFirstItem){\r\n                    this.sundayArray.push(item);\r\n                } else {\r\n                    this.sundayFirstItem = item;\r\n                }\r\n            } else {\r\n                if(this.mondayFirstItem){\r\n                    this.mondayArray.push(item);\r\n                } else {\r\n                    this.mondayFirstItem = item;\r\n                }\r\n            }\r\n        });\r\n        this.sundayRowSpan = this.sundayArray.length + 1;\r\n        this.mondayRowSpan = this.mondayArray.length + 1;\r\n    }\r\n    \r\n}",null,"export class Contact {\r\n    \r\n}",null,null,"export class Home {\r\n    \r\n}",null,"\r\nexport class Landing {\r\n\r\n\r\n}",null,"export class Logistics {\r\n    constructor(){\r\n        this.showImage = [];\r\n        this.showImage.push(\"http://localhost/img/parallax1.jpg\");\r\n        this.showImage.push(\"http://localhost/img/uwm.jpg\");\r\n        this.showThisImage = this.showImage[0];\r\n        this.index = 1;\r\n    }\r\n\r\n    activate(){\r\n        setInterval(() => {\r\n            this.showThisImage = this.showImage[this.index];\r\n            if(this.index == this.showImage.length - 1){\r\n                this.index = 0;\r\n            } else {\r\n                this.index++;\r\n            }\r\n        },5000);\r\n    }\r\n}",null,"export class Milwaukee {\r\n    \r\n}",null,null,"import {inject} from 'aurelia-framework';\r\nimport Validation from '../../resources/utils/validation';\r\nimport {Services} from '../../resources/data/services';\r\nimport {Router} from \"aurelia-router\";\r\nimport $ from 'jquery';\r\nimport * as toastr from \"toastr\";\r\n\r\n@inject(Validation, Services, Router)\r\nexport class Register {\r\n\r\n    constructor(validation, services, router){\r\n        this.validation = validation;\r\n        this.services = services;\r\n        this.router = router;\r\n        this.validation.initialize(this);\r\n        toastr.options.extendedTimeOut = \"1000\";\r\n        toastr.options.timeOut = \"1500\";\r\n    }\r\n\r\n    activate(){\r\n        this._setupValidation();\r\n    }\r\n\r\n    _setupValidation(){\r\n        this.validation.addRule(1,\"firstName\",[{\"rule\":\"required\",\"message\":\"First Name is required\", \"value\": \"firstName\"}]);\r\n        this.validation.addRule(1,\"lastName\",[{\"rule\":\"required\",\"message\":\"Last Name is required\", \"value\": \"lastName\"}]);\r\n        this.validation.addRule(1,\"email\",[\r\n          {\"rule\":\"required\",\"message\":\"Email is required\", \"value\": \"email\"},\r\n          {\"rule\":\"custom\",\"message\":\"Enter a valid email address\",\r\n            \"valFunction\":function(context){\r\n                return (context.email.indexOf('@') > -1);\r\n            }\r\n          }]);\r\n        this.validation.addRule(1,\"university\",[\r\n          {\"rule\":\"required\",\"message\":\"Institution is required\", \"value\": \"university\"},\r\n         ]);\r\n        this.validation.addRule(1,\"password\",[{\"rule\":\"required\",\"message\":\"Password is required\", \"value\": \"password\"}]);\r\n        this.validation.addRule(1,\"password_repeat\",[{\"rule\":\"custom\",\"message\":\"Passwords must match\",\r\n          \"valFunction\":function(context){\r\n            return (context.password === context.password_repeat);\r\n          }}], true);\r\n    }\r\n\r\n    async save(){\r\n        if(this.validation.validate(1)){\r\n            let person = {\r\n                firstName: this.firstName,\r\n                lastName: this.lastName,\r\n                email: this.email,\r\n                university: this.university,\r\n                password: this.password\r\n            }\r\n            let response = await this.services.saveRegister(person);\r\n            if(response){\r\n                toastr['success']('Your registration was saved.');\r\n                this.router.navigate(\"home\");\r\n            } else {\r\n                toastr['error']('There was an error saving the registration.');\r\n            }\r\n        }\r\n    }\r\n}",null,null,null,null,"import { inject } from 'aurelia-framework';\r\nimport Validation from '../../resources/utils/validation';\r\nimport { Services } from '../../resources/data/services';\r\nimport { Router } from \"aurelia-router\";\r\nimport { Auth } from '../../resources/data/auth';\r\nimport { DataTable } from '../../resources/utils/dataTable';\r\nimport $ from 'jquery';\r\nimport * as toastr from \"toastr\";\r\n\r\n@inject(Validation, Services, Router, Auth, DataTable)\r\nexport class Submit {\r\n    constructor(validation, services, router, auth, dataTable) {\r\n        this.validation = validation;\r\n        this.services = services;\r\n        this.router = router;\r\n        this.auth = auth;\r\n        this.dataTable = dataTable;\r\n        this.dataTable.initialize(this);\r\n        this.validation.initialize(this);\r\n        toastr.options.extendedTimeOut = \"1000\";\r\n        toastr.options.timeOut = \"1500\";\r\n        this.userObj = JSON.parse(sessionStorage.getItem('user'));\r\n        this.filesToUpload = new Array();\r\n        this._setupValidation();\r\n        this.showTable = true;\r\n\r\n        this.tracks = [\r\n            \"Innovations in Teaching\", \"High Impact Practices\", \"Incorporating Latest Developments in Curriculum\", \"Research in Teaching\", \"HANAify Everything\"\r\n        ];\r\n        this.status = [\r\n            'Submitted', 'Under Review', 'Accepted', 'Rejected'\r\n        ];\r\n\r\n\r\n    }\r\n\r\n    activate() {\r\n        if (sessionStorage.getItem('user')) this.loginSuccess();\r\n    }\r\n\r\n    _setupValidation() {\r\n        this.validation.addRule(1, \"title\", [{ \"rule\": \"required\", \"message\": \"Title is required\", \"value\": \"title\" }]);\r\n        this.validation.addRule(1, \"description\", [{ \"rule\": \"required\", \"message\": \"Description is required\", \"value\": \"description\" }]);\r\n        this.validation.addRule(1, \"track\", [{\r\n            \"rule\": \"custom\", \"message\": \"Track is required\",\r\n            \"valFunction\": function (context) {\r\n                return (context.track != \"\");\r\n            }\r\n        }], true);\r\n        this.validation.addRule(1, \"files\", [{\r\n            \"rule\": \"custom\", \"message\": \"You must select a file\",\r\n            \"valFunction\": function (context) {\r\n                return (context.filesToUpload.length > 0);\r\n            }\r\n        }], true);\r\n        this.validation.addRule(2, \"firstName\", [{ \"rule\": \"required\", \"message\": \"First Name is required\", \"value\": \"firstName\" }]);\r\n        this.validation.addRule(2, \"lastName\", [{ \"rule\": \"required\", \"message\": \"Last Name is required\", \"value\": \"lastName\" }]);\r\n        this.validation.addRule(2, \"email\", [\r\n            { \"rule\": \"required\", \"message\": \"Email is required\", \"value\": \"email\" },\r\n            {\r\n                \"rule\": \"custom\", \"message\": \"Enter a valid email address\",\r\n                \"valFunction\": function (context) {\r\n                    return (context.email.indexOf('@') > -1);\r\n                }\r\n            }]);\r\n        this.validation.addRule(2, \"university\", [\r\n            { \"rule\": \"required\", \"message\": \"Institution is required\", \"value\": \"university\" },\r\n        ]);\r\n        this.validation.addRule(2, \"password\", [{ \"rule\": \"required\", \"message\": \"Password is required\", \"value\": \"password\" }]);\r\n        this.validation.addRule(2, \"password_repeat\", [{\r\n            \"rule\": \"custom\", \"message\": \"Passwords must match\",\r\n            \"valFunction\": function (context) {\r\n                return (context.password === context.password_repeat);\r\n            }\r\n        }], true);\r\n    }\r\n\r\n    showRegister() {\r\n        this.showRegisterPanel = !this.showRegisterPanel;\r\n    }\r\n\r\n    async save() {\r\n        if (this.validation.validate(2)) {\r\n            let person = {\r\n                firstName: this.firstName,\r\n                lastName: this.lastName,\r\n                email: this.email,\r\n                university: this.university,\r\n                password: this.password\r\n            }\r\n            let response = await this.services.saveRegister(person);\r\n            if (response) {\r\n                sessionStorage.setItem('user', JSON.stringify(response))\r\n                this.loginSuccess();\r\n                this.isAuthenticated = true;\r\n                this.showRegisterPanel = false;\r\n                toastr['success']('Your registration was saved.');\r\n            } else {\r\n                toastr['error']('There was an error saving the registration.');\r\n            }\r\n        }\r\n    }\r\n\r\n    async submit() {\r\n        if (this.validation.validate(1)) {\r\n            let abstract = {\r\n                title: this.title,\r\n                description: this.description,\r\n                personId: this.userObj._id,\r\n                track: this.track\r\n            }\r\n            let response = await this.services.saveAbstract(abstract, this.filesToUpload);\r\n            if (!response.error) {\r\n                toastr['success']('The abstract was uploaded successfully.');\r\n                this.getPersonAbstracts();\r\n                this.title = \"\";\r\n                this.description = \"\";\r\n                this.track = \"\";\r\n                this.filesToUpload = new Array();\r\n                this.files = new Array();\r\n            }\r\n        }\r\n    }\r\n\r\n    changeFiles() {\r\n        this.filesToUpload = new Array();\r\n        this.filesToUpload.push(this.files[0]);\r\n    }\r\n\r\n    async login() {\r\n        let response = await this.auth.login(this.email, this.password)\r\n        if (!response.error) {\r\n            this.loginError = \"\";\r\n            this.loginSuccess();\r\n        } else {\r\n            this.loginError = \"Invalid credentials. Contact ucc@uwm.edu to have your password reset.\";\r\n        }\r\n    }\r\n\r\n    async refresh() {\r\n        await this.services.getAbstracts();\r\n        await this.services.getPeople();\r\n    }\r\n\r\n    async loginSuccess() {\r\n        this.isAuthenticated = this.auth.isAuthenticated();\r\n        this.userObj = JSON.parse(sessionStorage.getItem('user'));\r\n        if (this.userObj) {\r\n            this.adminRole = this.userObj.role.indexOf('admin') > -1;\r\n            sessionStorage.setItem('role', this.userObj.role);\r\n            if (this.adminRole) {\r\n                await this.services.getAbstracts();\r\n                await this.services.getPeople();\r\n                this.dataTable.updateArray(this.services.allAbstractArray);\r\n            }\r\n            this.getPersonAbstracts();\r\n        }\r\n\r\n    }\r\n\r\n    async getPersonAbstracts() {\r\n        await this.services.getPersonAbstracts(this.userObj._id);\r\n    }\r\n\r\n    async addReviewer(person) {\r\n        person.role = person.role + ':reviewer'\r\n        let response = await this.services.savePerson(person);\r\n        if (response) {\r\n            toastr['success']('Your registration was saved.');\r\n            await this.services.getPeople();\r\n        } else {\r\n            toastr['error']('There was an error saving the registration.');\r\n        }\r\n    }\r\n\r\n    async removeReviewer(person) {\r\n        person.role = person.role.split(':reviewer').join();\r\n        let response = await this.services.savePerson(person);\r\n        if (response) {\r\n            toastr['success']('Your registration was saved.');\r\n            await this.services.getPeople();\r\n        } else {\r\n            toastr['error']('There was an error saving the registration.');\r\n        }\r\n    }\r\n\r\n    async edit(abstract) {\r\n        this.abstract = await this.services.getAbstract(abstract._id);\r\n        this.showTable = false;\r\n    }\r\n\r\n    async addReviewerToAbstract(person) {\r\n        if (this.abstract.reviewers.indexOf(person._id) === -1) {\r\n            this.abstract.reviewers.push(person._id);\r\n            if (this.abstract.reviewers.length > 0) this.abstract.status = \"Under Review\";\r\n            let response = await this.services.saveAbstractReviewer(this.abstract);\r\n            this.abstract = response[0];\r\n            if (person.abstracts.indexOf(this.abstract._id === -1)) {\r\n                person.abstracts.push(this.abstract._id);\r\n                await this.services.savePerson(person);\r\n            }\r\n        }\r\n        await this.refresh();\r\n    }\r\n\r\n    async removeReviewerFromAbstract(person) {\r\n        var filteredReviewers = this.abstract.reviewers.filter(function (value, index, arr) {\r\n            return value._id != person._id;\r\n        });\r\n        this.abstract.reviewers = filteredReviewers;\r\n        if (this.abstract.reviewers.length === 0) this.abstract.status = \"Submitted\";\r\n        let responseOne = await this.services.saveAbstractReviewer(this.abstract);\r\n        this.abstract = responseOne[0];\r\n        var filteredAbstracts = person.abstracts.filter(function (value, index, arr) {\r\n            return value._id != this.abstract._id;\r\n        });\r\n        person.abstracts = filteredAbstracts;\r\n        await this.services.savePerson(person);\r\n        this.refresh();\r\n    }\r\n\r\n    saveEditAbstract() {\r\n        this.services.saveAbstractReviewer(this.abstract);\r\n        this.showTable = true;\r\n    }\r\n\r\n    cancelEdit() {\r\n        this.showTable = true;\r\n    }\r\n\r\n    downloadInstExcel() {\r\n        let csvContent = \"data:text/csv;charset=utf-8;,Faculty,Email,Title,Status\\r\\n\";\r\n        this.dataTable.baseArray.forEach(item => {\r\n            let facInfo = item.personId ? item.personId.firstName + \" \" + item.personId.lastName + \",\" + item.personId.email : \"\";\r\n            csvContent += facInfo + \",\" + item.title + \",\" + item.status;\r\n            csvContent += \"\\r\\n\";\r\n        })\r\n        var encodedUri = encodeURI(csvContent);\r\n        var link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        link.setAttribute(\"download\", \"submissions.csv\");\r\n        document.body.appendChild(link); // Required for FF\r\n\r\n        link.click();\r\n    }\r\n\r\n    nameCustomFilter(value, item, context) {\r\n        if (item.personId) {\r\n            let firstNameFilter = item.personId.firstName.toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n            let lastNameFilter = item.personId.lastName.toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n            return firstNameFilter || lastNameFilter;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    async uploadReview() {\r\n        let response = await this.services.saveReview(this.abstract, this.filesToUpload);\r\n        if (!response.error) {\r\n            toastr['success']('The review was uploaded successfully.');\r\n            this.filesToUpload = new Array();\r\n            this.files = new Array();\r\n        }\r\n\r\n    }\r\n\r\n    showReviews(submission){\r\n        this.selectedSubmission = submission;\r\n    }\r\n\r\n    emailCustomFilter(value, item, context) {\r\n        return item.personId && item.personId.email.toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n    }\r\n\r\n    titleCustomFilter(value, item, context) {\r\n        return item.title.toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n    }\r\n\r\n    fileCustomFilter(value, item, context) {\r\n        return item.file && item.file.originalFileName.toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n    }\r\n\r\n    customNameSorter(sortProperty, sortDirection, sortArray, context) {\r\n        this.sortProperty = 'person';\r\n        this.sortDirection = sortDirection;\r\n        return sortArray.sort((a, b) => {\r\n            if (a['personId'] && b['personId'] && a['personId']['lastName'] && b['personId']['lastName']) {\r\n                var result = (a['personId']['lastName'] < b['personId']['lastName']) ? -1 : (a['personId']['lastName'] > b['personId']['lastName']) ? 1 : 0;\r\n            } else {\r\n                var result = -1;\r\n            }\r\n            return result * sortDirection;\r\n        });\r\n    }\r\n\r\n    customEmailSorter(sortProperty, sortDirection, sortArray, context) {\r\n        this.sortProperty = 'person';\r\n        this.sortDirection = sortDirection;\r\n        return sortArray.sort((a, b) => {\r\n            if (a['personId'] && b['personId'] && a['personId']['email'] && b['personId']['email']) {\r\n                var result = (a['personId']['email'] < b['personId']['email']) ? -1 : (a['personId']['email'] > b['personId']['email']) ? 1 : 0;\r\n            } else {\r\n                var result = -1;\r\n            }\r\n            return result * sortDirection;\r\n        });\r\n    }\r\n\r\n    customTitleSorter(sortProperty, sortDirection, sortArray, context) {\r\n        return sortArray.sort((a, b) => {\r\n            var result = (a[sortProperty] < b[sortProperty]) ? -1 : (a[sortProperty] > b[sortProperty]) ? 1 : 0;\r\n            return result * sortDirection;\r\n        });\r\n    }\r\n\r\n    customTrackSorter(sortProperty, sortDirection, sortArray, context) {\r\n        return sortArray.sort((a, b) => {\r\n            var result = (a[sortProperty] < b[sortProperty]) ? -1 : (a[sortProperty] > b[sortProperty]) ? 1 : 0;\r\n            return result * sortDirection;\r\n        });\r\n    }\r\n\r\n    customStatusSorter(sortProperty, sortDirection, sortArray, context) {\r\n        return sortArray.sort((a, b) => {\r\n            var result = (a[sortProperty] < b[sortProperty]) ? -1 : (a[sortProperty] > b[sortProperty]) ? 1 : 0;\r\n            return result * sortDirection;\r\n        });\r\n    }\r\n}",null,null,null,null,null,"import {inject} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {DataServices} from './dataServices';\r\n \r\n@inject(EventAggregator, DataServices)\r\nexport class Auth {\r\n\r\n\tloginUrl = 'people/login';\r\n\tlogoutUrl = 'people/logout';\r\n\r\n\tconstructor(eventAggregator, data){\r\n\t\tthis.eventAggregator = eventAggregator;\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n\tasync login(email, password) {\r\n\t\tlet content = {\r\n\t\t\t'email': email,\r\n\t\t\t'password': password\r\n\t\t};\r\n\r\n\t\tlet response = await this.data.login(content, this.loginUrl);\r\n\t\tif(!response.error){\r\n\t\t\t// response.user.userRole = this.setRole(response.user.roles);\r\n\t\t\t\r\n\t\t\tsessionStorage.setItem('token', response.token);\r\n\t\t\tsessionStorage.setItem('user', JSON.stringify(response.user));\r\n\t\t\t\r\n\t\t}\r\n\t\tthis.eventAggregator.publish('auth:login', response);\r\n\t\treturn response;\r\n\t}\r\n\r\n\tlogout(email){\r\n\t\tthis.data.saveObject({email: email}, this.logoutUrl,'post');\r\n\t\tsessionStorage.removeItem('token');\r\n\t\tsessionStorage.removeItem('user');\r\n\t\tsessionStorage.removeItem('role');\r\n\t\tsessionStorage.removeItem('alert');\r\n\t}\r\n\r\n\tisAuthenticated() {\r\n\t\tlet token = sessionStorage.getItem('token');\r\n\r\n\t\t// There's no token, so user is not authenticated.\r\n\t\tif (!token) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// There is a token, but in a different format. Return true.\r\n\t\tif (token.split('.').length !== 3) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tlet exp;\r\n\t\ttry {\r\n\t\t\tlet base64Url = token.split('.')[1];\r\n\t\t\tlet base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n\t\t\texp = JSON.parse(window.atob(base64)).exp;\r\n\t\t} catch (error) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (exp) {\r\n\t\t\treturn Math.round(new Date().getTime() / 1000) <= exp;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {HttpClient} from 'aurelia-http-client';\r\n\r\n@inject(HttpClient)\r\nexport class DataServices {\r\n    isRequesting = false;\r\n\r\n    constructor(http) {\r\n        this.http = http;\r\n    \r\n\t\tthis.http.configure(x => {\r\n            // x.withBaseUrl(\"http://c3po.ucc.uwm.edu/api/\");\r\n            x.withBaseUrl(\"http://localhost/api/\");\r\n\t\t});\r\n    }\r\n\r\n\tactivate(){\r\n\t}\r\n \r\n  get(url){\r\n\t\tthis.isRequesting = true;\r\n\t\treturn this.http.createRequest(url)\r\n\t\t.asGet()\r\n\t\t.withHeader('Authorization', 'JWT ' + sessionStorage.getItem('token'))\r\n\t\t.send().then(response => {\r\n\t\t\tthis.isRequesting = false;\r\n  \t\t\tif (!response.isSuccess) {\r\n             return response;\r\n         } else {\r\n             return JSON.parse(response.response);\r\n         }\r\n     }).catch(e => {\r\n\t\t\t\t this.isRequesting = false;\r\n         console.log(e);\r\n         return  {error: true, code: e.statusCode, message: e.statusText};\r\n     });\r\n\t}\r\n\r\n    getNoAuth(url){\r\n        this.isRequesting = true;\r\n\t\treturn this.http.createRequest(url)\r\n\t\t.asGet()\r\n\t\t.send().then(response => {\r\n\t\t\tthis.isRequesting = false;\r\n\t\t\tif (!response.isSuccess) {\r\n                     return response;\r\n                 } else {\r\n                     return JSON.parse(response.response);\r\n                 }\r\n             }).catch(e => {\r\n\t\t\t\t this.isRequesting = false;\r\n                 console.log(e);\r\n                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n             });\r\n    }\r\n\r\n\tsaveObject(content, url, method) {\r\n        this.isRequesting = true;\r\n\t\tif(method === 'put'){\r\n \t\t\treturn this.http.createRequest(url)\r\n\t\t\t .asPut()\r\n\t\t\t .withHeader('Authorization', 'JWT ' + sessionStorage.getItem('token'))\r\n\t\t\t .withContent(content)\r\n\t\t\t .send().then(response => {\r\n\t\t\t\t this.isRequesting = false;\r\n\t\t\t\tif (!response.isSuccess) {\r\n                     return response;\r\n                 } else {\r\n                     return JSON.parse(response.response);\r\n                 }\r\n             }).catch(e => {\r\n\t\t\t\t this.isRequesting = false;\r\n                 console.log(e);\r\n                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n             });\r\n\r\n\t\t} else if(method === 'post'){\r\n\t\t\treturn this.http.createRequest(url)\r\n\t\t\t .asPost()\r\n\t\t\t .withHeader('Authorization', 'JWT ' + sessionStorage.getItem('token'))\r\n\t\t\t .withContent(content)\r\n\t\t\t .send().then(response => {\r\n\t\t\t\t this.isRequesting = false;\r\n\t\t\t\tif (!response.isSuccess) {\r\n                     return response;\r\n                 } else {\r\n                     return JSON.parse(response.response);\r\n                 }\r\n             }).catch(e => {\r\n\t\t\t\t this.isRequesting = false;\r\n                 console.log(e);\r\n                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n             });\r\n\t\t}\r\n\r\n    }\r\n\r\n\tdeleteObject(url){\r\n\t\tthis.isRequesting = true;\r\n\t\treturn this.http.createRequest(url)\r\n\t\t.asDelete()\r\n\t\t.withHeader('Authorization', 'JWT ' + sessionStorage.getItem('token'))\r\n\t\t.send().then(response => {\r\n\t\t\t\tthis.isRequesting = false;\r\n\t\t\t\tif (!response.isSuccess) {\r\n                     return response;\r\n                 } else {\r\n                     if(response.statusCode  === 204){\r\n                        return response;\r\n                     } else {\r\n                        return JSON.parse(response.response);\r\n                     }\r\n\r\n                 }\r\n             }).catch(e => {\r\n\t\t\t\t this.isRequesting = false;\r\n                 console.log(e);\r\n                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n             });\r\n\t}\r\n\r\n    sendMail(content) {\r\n        this.isRequesting = true;\r\n\t\t\treturn this.http.createRequest('sendMail')\r\n\t\t\t .asPost()\r\n\t\t\t .withHeader('Authorization', 'JWT ' + sessionStorage.getItem('token'))\r\n\t\t\t .withContent(content)\r\n\t\t\t .send().then(response => {\r\n\t\t\t\t this.isRequesting = false;\r\n\t\t\t\tif (!response.isSuccess) {\r\n                     return response;\r\n                 } else {\r\n                     return JSON.parse(response.response);\r\n                 }\r\n             }).catch(e => {\r\n\t\t\t\t this.isRequesting = false;\r\n                 console.log(e);\r\n                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n             });\r\n\r\n    }\r\n\r\n    login(content, url){\r\n        return this.http.createRequest(url)\r\n\t\t\t .asPost()\r\n\t\t\t .withContent(content)\r\n\t\t\t .send().then(response => {\r\n\t\t\t\t this.isRequesting = false;\r\n                 return JSON.parse(response.response);\r\n             }).catch(e => {\r\n\t\t\t\t this.isRequesting = false;\r\n                 console.log(e);\r\n                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n             });\r\n    }\r\n\r\n    uploadFiles(files, url){\r\n        // this.isRequesting = true;\r\n        this.progress = 0;\r\n\t\tlet formData = new FormData();\r\n\r\n        files.forEach((item, index) => {\r\n            formData.append(\"file\" + index, item);\r\n        })\r\n\r\n\t\treturn this.http.createRequest(url)\r\n\t\t\t.asPost()\r\n\t\t\t.withHeader('Authorization', 'JWT ' + sessionStorage.getItem('token'))\r\n\t\t\t.withContent(formData)\r\n\t\t\t.skipContentProcessing()\r\n\t\t\t.send().then(response => {\r\n\t\t\t\tthis.isRequesting = false;\r\n\t\t\t\tif (!response.isSuccess) {\r\n                     return response;\r\n                 } else {\r\n                     return JSON.parse(response.response);\r\n                 }\r\n             }).catch(e => {\r\n\t\t\t\t this.isRequesting = false;\r\n                 console.log(e);\r\n                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n             });\r\n\r\n    }\r\n\r\n    processError(obj, message) {\r\n        console.log(obj);\r\n        var msg = (message ? message : \"\") + \" \";\r\n        switch (obj.code) {\r\n            case 404:\r\n                msg = undefined;\r\n                break;\r\n            case 422:\r\n                msg = msg += \"The request was bad.  Contact your UCC.\";\r\n                break;\r\n            case 409:\r\n                msg = msg += \"The record already exists.\";\r\n                break;\r\n            case 500:\r\n                msg = msg += \"An unspecified error occured on the server.  Contact your UCC.\";\r\n                break;\r\n            default:\r\n                msg = msg += \"An unspecified error occured.  Contact your UCC.\"\r\n        }\r\n        if(msg && msg.length > 0) console.log(msg);\r\n    }\r\n\r\n    // //File URLs\r\n    FILE_URL = \"http://localhost:5000/api/upload\";\r\n    FILE_DOWNLOAD_URL = \"http://localhost:5000/\";\r\n\r\n\r\n    // //IS4UA Services\r\n    IS4UA = 'is4ua';\r\n\r\n    // //Clients Services\r\n    CLIENTS_SERVICE = 'clients';\r\n    DELETE_ALL_CLIENTS = 'clients/system/SYSTEMID';\r\n\r\n\r\n    // //Products Services\r\n    // PRODUCTS_SERVICE = 'products';\r\n\r\n\r\n    // //Clientrequests Services\r\n    COURSES_SERVICE = 'courses';\r\n    PERSON_COURSES_SERVICE = 'courses/person/PERSONID';\r\n\r\n    CONFIG_SERVICE = 'config';\r\n    SESSIONS_CONFIG_SERVICE = 'semesterConfig';\r\n\r\n    //File upload\r\n    DOCUMENTS_FILE_UPLOAD = 'documents/file';\r\n\r\n    // API_KEY='0f85bb931f8faad7e35b6f685aa4e931';\r\n    // OPEN_WEATHER_MAP_SERVICE = 'http://api.openweathermap.org/data/2.5/weather';\r\n\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './dataServices';\r\n\r\n@inject(DataServices)\r\nexport class Services {\r\n    constructor(data){\r\n        this.data = data;\r\n    }\r\n\r\n    async saveRegister(object){\r\n        let response = await this.data.saveObject(object,'people','post');\r\n        if(!response.error){\r\n            return response;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    async saveAbstract(abstract, files){\r\n        let response = await this.data.saveObject(abstract, 'abstract', 'post');\r\n        if(!response.error){\r\n            let uploadResponse = await this.uploadFile(files, response._id);\r\n            return uploadResponse;\r\n        }\r\n    }\r\n\r\n    async uploadFile(files, id){\r\n        let response = await this.data.uploadFiles(files, 'abstract/upload/' + id);\r\n        if(!response.error){\r\n             return response;\r\n        }\r\n     }\r\n\r\n     async saveReview(abstract, files){\r\n         console.log('there')\r\n        let response = await this.data.uploadFiles(files, 'abstract/review/' + abstract._id, 'put');\r\n        if(!response.error){\r\n            return uploadResponse;\r\n        }\r\n     }\r\n\r\n     async getPersonAbstracts(id){\r\n         let response = await this.data.get('abstract/person/' + id);\r\n         if(!response.error){\r\n             this.abstractArray = response;\r\n         } else {\r\n            this.abstractArray = [];\r\n         }\r\n     }\r\n\r\n     async getAbstracts(){\r\n        let response = await this.data.get('abstract');\r\n        if(!response.error){\r\n            this.allAbstractArray = response;\r\n        } else {\r\n           this.allAbstractArray = [];\r\n        }\r\n     }\r\n\r\n     async getAgenda(){\r\n         let response = await this.data.get('agenda');\r\n         if(!response.error){\r\n             this.agendaArray = response;\r\n         } else {\r\n             this.agendaArray = [];\r\n         }\r\n     }\r\n\r\n     async getPeople(){\r\n        let response = await this.data.get('people');\r\n        if(!response.error){\r\n            this.peopleArray = response;\r\n        } else {\r\n            this.peopleArray = [];\r\n        }\r\n     }\r\n\r\n     async savePerson(person){\r\n         let response = await this.data.saveObject(person, 'people', 'put');\r\n         return response;\r\n     }\r\n\r\n     async saveAbstractReviewer(abstract){\r\n        let response = await this.data.saveObject(abstract, 'abstract', 'put');\r\n        return response;\r\n     }\r\n\r\n     async getAbstract(id){\r\n        let response = await this.data.get('abstract/' + id);\r\n        if(!response.error){\r\n            return response;\r\n        } else {\r\n           return null;\r\n        }\r\n     }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { Router } from \"aurelia-router\";\r\nimport { Auth } from '../data/auth';\r\nimport { Services } from '../../resources/data/services';\r\nimport * as toastr from \"toastr\";\r\nimport $ from \"jquery\";\r\n\r\n@inject(Router,  Auth, Services)\r\nexport class NavBar {\r\n\r\n    isAuthenticated = false;\r\n    subscription = {};\r\n\r\n    constructor(router,  auth, services) {\r\n        this.router = router;\r\n        this.auth = auth;\r\n        this.services = services;\r\n\r\n        this.isAuthenticated = this.auth.isAuthenticated();\r\n        this.userObj = JSON.parse(sessionStorage.getItem('user'));\r\n    }\r\n\r\n    attached() {\r\n\r\n    }\r\n\r\n    async login() {\r\n        let response = await this.auth.login(this.email, this.password)\r\n        if (!response.error) {\r\n            this.loginError = \"\";\r\n            this.loginSuccess();\r\n            this.isAuthenticated = this.auth.isAuthenticated();\r\n        } else {\r\n            this.loginError = \"Invalid credentials.\";\r\n        }\r\n    }\r\n\r\n    logout() {\r\n        if (this.userObj) this.auth.logout(this.userObj.email);\r\n        this.userObj = new Object();\r\n        this.isAuthenticated = this.auth.isAuthenticated();\r\n        this.router.navigate(\"landing\");\r\n    }\r\n\r\n    async loginSuccess() {\r\n        this.userObj = JSON.parse(sessionStorage.getItem('user'));\r\n        if (this.userObj) {\r\n            sessionStorage.setItem('role', this.userObj.role)\r\n            this.router.navigate(\"home\");\r\n        }\r\n\r\n    }\r\n\r\n}\r\n",null,"import {inject, bindable} from 'aurelia-framework';\r\n\r\nexport class TableNavigationBar {\r\n\r\n  @bindable\r\n  columnspan;\r\n  \r\n  @bindable\r\n  dataTable;\r\n\r\n  @bindable\r\n  pagebuttons;\r\n}\r\n",null,"export function configure(config) {\n  config.globalResources([\n    './elements/nav-bar',\n    './value-converters/reviewers',\n    './value-converters/available-reviewers'\n  ]);\n}\n","import {inject} from 'aurelia-framework';\r\nimport moment from 'moment';\r\nimport {transient} from 'aurelia-framework';\r\nimport {Utils} from './utils';\r\n\r\n@transient()\r\n@inject(Utils)\r\nexport class DataTable{\r\n  currentPage = 0;\r\n  pages = [];\r\n  rowOptions = [5,10,15,20,50,100,200];\r\n  filterValues = [];\r\n  displayLength;\r\n\r\n  DEFAULT_TAKE = 50;\r\n  DEFAULT_START = 0;\r\n\r\n  sortProperty = '';\r\n  sortDirection = 1;\r\n  currentPageElement = 0;\r\n\r\n  startRecord = this.DEFAULT_START; \r\n  take = this.DEFAULT_TAKE;\r\n  firstVisible = this.startRecord + 1;\r\n  lastVisible = this.startRecord + this.take - 1;\r\n  numRowsShown = this.take.toString();\r\n\r\n  active = false;\r\n  \r\n  constructor(utils){\r\n    this.utils = utils;\r\n  }\r\n\r\n  initialize(context){\r\n    this.context = context;\r\n  }\r\n\r\n  pageOne(){\r\n    setTimeout(() => {\r\n        $(\".pagination\").children().removeClass('active');\r\n        $($(\".pagination\").children()[1]).addClass('active');\r\n        // $(\"#\" + this.context.navControl).children().removeClass('active');\r\n        // $($(\"#\" + this.context.navControl).children()[1]).addClass('active');\r\n    },100);\r\n  }\r\n\r\n  createPageButtons(start){\r\n    this.displayLength = this.baseArray.length;\r\n    this.lastVisible = parseInt(this.take) < this.displayLength ? parseInt(this.take) : this.displayLength;\r\n    var maxButtons = 7;\r\n    this.currentPage = 1;\r\n    this.pageButtons = [];\r\n    this.numPageButtons = Math.ceil((this.displayLength - ((start - 1) * this.take)) / this.take);\r\n    for(var j = 1; j<this.numPageButtons; j++){\r\n      this.pages[j] = j;\r\n    }\r\n\r\n    if(this.numPageButtons <= maxButtons + 1){\r\n      for(var i = start; i < this.numPageButtons + start; i++ ){\r\n        this.pageButtons.push(i);\r\n      }\r\n    } else {\r\n      for(var i = start; i < maxButtons + start; i++ ){\r\n        this.pageButtons.push(i);\r\n      }\r\n      this.pageButtons.push('...');\r\n      this.pageButtons.push(this.pages.length);\r\n    }\r\n  }\r\n\r\n  buildDisplayArray(){\r\n    this.displayArray = new Array();\r\n    for(var i = 0; i <= this.take; i++){\r\n      if(i + this.startRecord >= this.baseArray.length) break;\r\n      this.displayArray.push(this.baseArray[i + this.startRecord]);\r\n    }\r\n    this.createPageButtons(1);\r\n  }\r\n\r\n  forward(){\r\n     $(\".pagination\").children().removeClass('active');\r\n    // $(\"#\" + this.context.navControl).children().removeClass('active');\r\n    this.currentPageElement = this.currentPageElement < this.pageButtons.length-1 ? this.currentPageElement += 1 : this.currentPageElement;\r\n    if (this.pageButtons[this.currentPageElement] == \"...\") {\r\n      this.createPageButtons(this.pageButtons[0] + 1)\r\n      this.currentPageElement -= 1\r\n    }\r\n     $($(\".pagination\").children()[this.currentPageElement + 1]).addClass('active');\r\n    // $($(\"#\" + this.context.navControl).children()[this.currentPageElement + 1]).addClass('active');\r\n    var start = parseInt(this.startRecord);\r\n    var tk = parseInt(this.take);\r\n    this.startRecord = start + tk > this.baseArray.length ? start : start + tk;\r\n    this.firstVisible = this.startRecord + 1;\r\n    this.lastVisible = parseInt(this.firstVisible) + tk - 1 > this.displayArray.length ? this.displayArray.length : parseInt(this.firstVisible) + tk - 1 ;\r\n    this.buildDisplayArray();\r\n    // if(typeof(this.context.navigate) === 'function')  this.context.navigate();\r\n  }\r\n\r\n\r\n  createPage(){\r\n      $($(\".pagination\")[this.currentPage - 1]).addClass('active');\r\n  }\r\n\r\n  backward(){\r\n      $(\".pagination\").children().removeClass('active');\r\n    this.currentPageElement = this.currentPageElement > 0 ? this.currentPageElement -= 1 : this.currentPageElement;\r\n    if(this.currentPageElement == 0 && this.pageButtons[this.currentPageElement] != 1){\r\n      this.createPageButtons(this.pageButtons[0] - 1)\r\n    }\r\n    if (this.pageButtons[this.currentPageElement] == \"...\") {\r\n      var start = this.numPageButtons >= 8 ? this.numPageButtons - 8 : 1\r\n      this.createPageButtons(start)\r\n      //this.context.currentPageElement = 1\r\n    }\r\n    $($(\".pagination\").children()[this.currentPageElement + 1]).addClass('active');\r\n    //  $($(\"#\" + this.context.navControl).children()[this.currentPageElement + 1]).addClass('active');\r\n    var start = parseInt(this.startRecord);\r\n    var tk = parseInt(this.take);\r\n    this.startRecord = start - tk < 0 ?\r\n      0 : this.startRecord = start - tk;\r\n    this.firstVisible = this.startRecord + 1;\r\n    this.lastVisible = parseInt(this.firstVisible) + tk - 1;\r\n    this.buildDisplayArray();\r\n    // if(typeof(this.context.navigate) === 'function')  this.context.navigate();\r\n  }\r\n\r\n  pageButton(index, el){\r\n    $(\".pagination\").children().removeClass('active');\r\n    //  $(\"#\" + this.context.navControl).children().removeClass('active');\r\n    $(el.target).closest('li').addClass('active');\r\n    this.currentPageElement = index;\r\n    var start = parseInt(this.startRecord);\r\n    var tk = parseInt(this.take);\r\n    if(this.pageButtons[index] !== '...'){\r\n      this.startRecord = (this.pageButtons[index] - 1) * tk;\r\n      this.firstVisible = this.startRecord + 1;\r\n      this.lastVisible = parseInt(this.firstVisible) + tk - 1 > this.displayArray.length ?\r\n        this.displayArray.length : parseInt(this.firstVisible) + tk - 1 ;\r\n    }\r\n    // if(typeof(this.context.navigate) === 'function')  this.context.navigate();\r\n    this.buildDisplayArray();\r\n  }\r\n\r\n  updateTake(){\r\n    this.take = this.numRowsShown;\r\n    this.startRecord = 0;\r\n    this.lastVisible = parseInt(this.firstVisible) + parseInt(this.take) - 1;\r\n    this.createPageButtons(1);\r\n    this.pageOne();\r\n    this.buildDisplayArray();\r\n  }\r\n \r\n  filterList(el, array){ \r\n    el.preventDefault();\r\n    array = array || new Array();\r\n    //If the property is already in filterValues, filter it out\r\n    this.filterValues = this.filterValues.filter(function (obj) {\r\n      return obj.property !== el.target.id;\r\n    });\r\n\r\n    //If the filter value is not set to empty, add it to filterValues\r\n    if(el.target.value !== \"\"){\r\n      switch(el.target.type){\r\n        case 'select-one':\r\n          this.filterValues.push({property:el.target.id,value:el.target.options[el.target.selectedIndex].value, type:el.target.type, compare:$(el.target).attr(\"compare\")});\r\n          break;\r\n        default:\r\n          this.filterValues.push({property:el.target.id,value:el.target.value, type:el.target.type, compare:$(el.target).attr(\"compare\")});\r\n      }\r\n    }\r\n\r\n    //If there are no filters in filterValues, reset the displayArray to the original list\r\n    if(this.filterValues.length > 0){\r\n      this.baseArray = this.filter(this.filterValues,  array);\r\n    } else {\r\n      this.baseArray = this.sourceArray;\r\n    }\r\n    this.startRecord = this.DEFAULT_START;\r\n    this.firstVisible = 1;\r\n    this.buildDisplayArray();\r\n    this.lastVisible = parseInt(this.take) < this.displayLength ? parseInt(this.take) : this.displayLength;\r\n\r\n    this.pageOne();\r\n  }\r\n\r\n  filterList(value, options){\r\n    options.lookupArray = options.lookupArray || new Array();\r\n    //If the property is already in filterValues, filter it out\r\n    this.filterValues = this.filterValues.filter(function (obj) {\r\n      return obj.options.filter !== options.filter;\r\n    });\r\n\r\n    //Parse collection property\r\n    if(options.type.indexOf('obj') == -1 && options.type != 'custom'){\r\n      var properties = options.collectionProperty.split('.');\r\n      var condition = \"item\"\r\n      for(var j = 0; j<properties.length; j++){\r\n        if(properties[j].indexOf('[') > -1 ) {\r\n          condition += properties[j];\r\n        } else {\r\n          condition += \"['\" + properties[j] + \"']\";\r\n        }\r\n      }\r\n      options.collectionProperty = condition;\r\n    }\r\n\r\n    //If the filter value is not set to empty, add it to filterValues \r\n    if(typeof value == 'object' && !(value instanceof Date) && !Array.isArray(value)) value = value.target.value;\r\n    if(value !== \"\"){\r\n      this.filterValues.push({options: options, value: value});\r\n    }\r\n\r\n    //If there are no filters in filterValues, reset the displayArray to the original list\r\n    if(this.filterValues.length > 0){\r\n      this.baseArray = this.filter(this.filterValues);\r\n    } else {\r\n      this.baseArray = this.sourceArray;\r\n    }\r\n    this.startRecord = this.DEFAULT_START;\r\n    this.firstVisible = 1;\r\n    this.buildDisplayArray();\r\n    this.lastVisible = parseInt(this.take) < this.displayLength ? parseInt(this.take) : this.displayLength;\r\n\r\n    this.pageOne();\r\n  }\r\n\r\n  applyFilters(){\r\n    this.filter(this.filterValues);\r\n  }\r\n\r\n  filter(filters){\r\n    var keep;\r\n    var index = 0;\r\n    var that = this;\r\n    return this.sourceArray.filter(item => {\r\n      keep = false;\r\n      for(let i = 0; i < filters.length; i++) {\r\n        let filterItem = filters[i];\r\n        var matchValue = undefined;\r\n        if (filterItem.options.compare.indexOf('custom') > -1) {\r\n          matchValue = true;\r\n        } else  {\r\n          matchValue = eval(filterItem.options.collectionProperty);\r\n        }\r\n\r\n        if(matchValue != undefined || (filterItem.options.type === \"boolean\" && matchValue == undefined)) {\r\n          switch(filterItem.options.type){\r\n            case 'custom':\r\n              keep = filterItem.options.filter(filterItem.value, item, that.context);\r\n              break;\r\n            case 'text':  \r\n              if(filterItem.options.compare.indexOf('not') > -1){\r\n                keep = matchValue.toUpperCase().indexOf(filterItem.value.toUpperCase()) == -1;\r\n              } else {\r\n                keep = matchValue.toUpperCase().indexOf(filterItem.value.toUpperCase()) > -1;\r\n              }\r\n              break;\r\n            case 'value':\r\n              if(filterItem.options.compare.indexOf('not') > -1){\r\n                  keep = matchValue != filterItem.value;\r\n                } else {\r\n                   keep = matchValue == filterItem.value;\r\n                }\r\n              break;  \r\n            case \"boolean\":\r\n                if(matchValue == undefined) {\r\n                  keep = eval(filterItem.value) == false;\r\n                } else {\r\n                  keep = matchValue === eval(filterItem.value);\r\n                }\r\n                break;\r\n            case \"date\":\r\n              switch(filterItem.options.compare){\r\n                case 'after':\r\n                  if(matchValue){\r\n                    var dt = moment(matchValue).format('YYYY-MM-DD');\r\n                    keep = moment(dt).isAfter(filters[i].value);\r\n                  }\r\n                  break;\r\n                default:\r\n                  if(matchValue){\r\n                    var dt = moment(matchValue).format('YYYY-MM-DD');\r\n                    keep = moment(dt).isSame(filters[i].value);\r\n                  }\r\n              }\r\n          }\r\n        }\r\n\r\n       if(!keep) break;\r\n      }\r\n      return keep;\r\n      })\r\n  }\r\n\r\n\r\n  /***************************************************************\r\n   * propertyName - property to sort on unless a surrogate is provided \r\n   * type - indicates an alternate sorting method\r\n   * surrogateArray - array that contains the property on which you want to sort\r\n   * surrogateProperty - property in surrogate array that matches propertyname\r\n   * sortProperty - property showing in table on which sort is actually performed\r\n   * sortDirectionParam - direction of sort\r\n   */\r\n  sortArray(el, options, reSort){ //propertyName, type, surrogateArray, surrogateProperty, sortProperty, sortDirectionParam){\r\n    if(reSort){\r\n      if(!this.lastOption || !this.lastEl) return;\r\n      el = this.lastEl;\r\n      options = this.lastOption;\r\n    } else {\r\n      this.lastEl = el;\r\n      this.lastOption = options;\r\n    }\r\n    if(options.sortDirectionParam) this.sortDirection = sortDirectionParam;\r\n    this.sortProperty=options.propertyName;\r\n    if(options.propertyName === this.sortProperty){\r\n      this.sortDirection *= -1;\r\n    } else {\r\n      this.sortDirection = 1;\r\n    }\r\n\r\n    $(\".sortable\").next().replaceWith('<i class=\"fa fa-sort\"></i>');\r\n    if(this.sortDirection < 0){\r\n      var icon = '<i class=\"fa fa-sort-amount-desc\" aria-hidden=\"true\"></i>';  \r\n    } else {\r\n      var icon = '<i class=\"fa fa-sort-amount-asc\" aria-hidden=\"true\"></i>';\r\n    }\r\n   \r\n   $(el.target).next().replaceWith(icon);\r\n    \r\n    if(!options.type){\r\n        if(options.propertyName.indexOf('.') > -1){\r\n          var array = options.propertyName.split('.');          \r\n        }\r\n\r\n        if(array){\r\n           this.baseArray = this.baseArray\r\n          .sort((a, b) => {\r\n            var result = (a[array[0]][array[1]] < b[array[0]][array[1]]) ? -1 : (a[array[0]][array[1]] > b[array[0]][array[1]]) ? 1 : 0;\r\n            return result * this.sortDirection;\r\n          });\r\n        } else {\r\n          this.baseArray = this.baseArray\r\n          .sort((a, b) => {\r\n            var result = (a[options.propertyName] < b[options.propertyName]) ? -1 : (a[options.propertyName] > b[options.propertyName]) ? 1 : 0;\r\n            return result * this.sortDirection;\r\n          });\r\n        }\r\n      \r\n    } else if(options.type == 'custom') {\r\n      if(typeof options.sorter == 'function'){\r\n        var sortArray = this.utils.copyArray(this.baseArray);  \r\n        this.baseArray = options.sorter(this.sortProperty, this.sortDirection, sortArray, this.context);\r\n      }\r\n    } else {\r\n      var properties = options.searchProperty.split('.');\r\n      var condition = \"item\"\r\n      for(let j = 0; j<properties.length; j++){\r\n        if(properties[j].indexOf('[') > -1 ) {\r\n          condition += properties[j];\r\n        } else {\r\n          condition += \"['\" + properties[j] + \"']\";\r\n        }\r\n      }\r\n        var sortArray = this.utils.copyArray(this.baseArray);\r\n        sortArray.forEach((item) => {\r\n          var obj = this.findObj(options.surrogateArray, options.surrogateProperty, eval(condition));\r\n          item[options.propertyName] = obj ? obj[options.propertyName] : null;\r\n        })\r\n\r\n        this.baseArray = sortArray.sort((a, b) => {\r\n            var result = (a[options.propertyName] < b[options.propertyName]) ? -1 : (a[options.propertyName] > b[options.propertyName]) ? 1 : 0;\r\n            return result * this.sortDirection;\r\n          });\r\n    }\r\n\r\n\r\n     this.startRecord = this.DEFAULT_START;\r\n      this.firstVisible = 1;\r\n      this.buildDisplayArray();\r\n      this.lastVisible = parseInt(this.take) < this.displayLength ? parseInt(this.take) : this.displayLength;\r\n\r\n      this.pageOne();\r\n  }\r\n  \r\n  findObj(surrogateArray, surrogateProperty, propertyValue){\r\n    for(var i =0, x = surrogateArray.length; i < x; i++){\r\n      if(surrogateArray[i][surrogateProperty] == propertyValue) return surrogateArray[i];\r\n    }\r\n    return null;\r\n  }\r\n  \r\n  updateArray(sourceArray, sortProperty, sortDirection){\r\n    if(sourceArray) {\r\n      this.sourceArray = new Array();\r\n      this.baseArray = new Array();\r\n      this.active = true;\r\n      this.filterValues = new Array();\r\n      sourceArray.forEach((item, index) => {\r\n        item.baseIndex = index;\r\n        item.originalIndex = index;\r\n        this.sourceArray.push(item);\r\n        this.baseArray.push(item);\r\n      })\r\n     \r\n      // this.baseArray.forEach(function(item, index){\r\n      //   item.baseIndex = index;\r\n      //   item.originalIndex = index;\r\n      // });\r\n\r\n      if(sortProperty){\r\n          this.baseArray.sort((a,b) => {\r\n            let result =  a[sortProperty] - b[sortProperty];\r\n            return result * sortDirection\r\n          })\r\n      }\r\n\r\n      this.buildDisplayArray()\r\n    }\r\n  }\r\n\r\n  updateArrayMaintainFilters(sourceArray, sortProperty, sortDirection){\r\n    if(sourceArray) {\r\n      this.sourceArray = new Array();\r\n      this.baseArray = new Array();\r\n      this.active = true;\r\n      \r\n      sourceArray.forEach(item => {\r\n        this.sourceArray.push(item);\r\n        this.baseArray.push(item);\r\n      })\r\n      if(this.filterValues.length) this.baseArray = this.filter(this.filterValues);\r\n     \r\n      this.baseArray.forEach(function(item, index){\r\n        item.baseIndex = index;\r\n        item.originalIndex = index;\r\n      });\r\n\r\n      if(sortProperty){\r\n          this.baseArray.sort((a,b) => {\r\n            let result =  a[sortProperty] - b[sortProperty];\r\n            return result * sortDirection\r\n          })\r\n      }\r\n\r\n      // this.filter(this.filterValues);\r\n      this.buildDisplayArray();\r\n     \r\n    }\r\n  }\r\n\r\n  getOriginalIndex(index){\r\n    return this.displayArray[index].originalIndex;\r\n  }\r\n\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport $ from 'jquery';\r\nimport * as toastr from \"toastr\";\r\nimport {Notification} from 'aurelia-notification';\r\nimport moment from 'moment';\r\n\r\n@inject(Notification)\r\nexport class Utils{\r\n\r\n  constructor(notification){\r\n      this.notification = notification;\r\n      this.notification.waitForMove = true\r\n      toastr.options.extendedTimeOut = \"1000\";\r\n      toastr.options.timeOut = \"1500\";\r\n\r\n      // toastr.options = {\r\n      //   \"closeButton\": false,\r\n      //   \"debug\": false,\r\n      //   \"newestOnTop\": false,\r\n      //   \"progressBar\": false,\r\n      //   \"positionClass\": \"toast-top-right\",\r\n      //   \"preventDuplicates\": false,\r\n      //   \"onclick\": null,\r\n      //   \"showDuration\": \"100\",\r\n      //   \"hideDuration\": \"1000\",\r\n      //   \"timeOut\": \"1000\",\r\n      //   \"extendedTimeOut\": \"1000\",\r\n      //   \"showEasing\": \"swing\",\r\n      //   \"hideEasing\": \"linear\",\r\n      //   \"showMethod\": \"fadeIn\",\r\n      //   \"hideMethod\": \"fadeOut\"\r\n      // }\r\n  }\r\n  \r\n  guid() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n      var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16); \r\n    });\r\n  }\r\n\r\n\r\n\r\n  /*****************************************************************************\r\n   * Display a notification\r\n   * msg - the message to display\r\n   ****************************************************************************/\r\n  showNotification(msg, type){\r\n    \r\n    type = type ? type : \"success\";\r\n    toastr[type](msg);\r\n      // this.notification.note(msg);\r\n  }\r\n\r\n   \r\n  /*****************************************************************************\r\n   * Count the the items in an array\r\n   * value - the value to count\r\n   * property - the object property to look for the value\r\n   * itemArray - the array\r\n   ****************************************************************************/\r\n  countItems(value, property, itemArray){\r\n      var countArray = itemArray.filter(function (item){\r\n          return item[property] == value\r\n       });\r\n      return countArray.length;\r\n  }\r\n\r\n  arrayContainsValue(array, property, value){\r\n    for(var i = 0, x = array.length; i < x; i++){\r\n      if(array[i][property] == value){\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  /*************************************************************************\r\n  * Compare to objects to determine if they are equal\r\n  * obj1 - first object\r\n  * obj2 - second object\r\n  * skip - an array of properties to skip\r\n  *************************************************************************/\r\n  objectsEqual(obj1, obj2, skip){\r\n   var changes = new Array();\r\n   var skipArray = skip || new Array();\r\n   for (var property in obj1) {\r\n     if (obj1.hasOwnProperty(property)) {\r\n         if(!obj1[property] && !obj2[property] || skipArray.indexOf(property) !== -1){\r\n           continue;\r\n         }\r\n         else if(Array.isArray(obj1[property])){\r\n             if(!this.arraysEqual(obj1[property], obj2[property])) {\r\n               changes.push({\r\n                 property: property,\r\n                 oldValue: obj2[property].length,\r\n                 newValue: obj1[property].length\r\n               });\r\n             }\r\n         } else if ((property.indexOf('Date') > -1 || property.indexOf('date') > -1) ||  (obj1[property] instanceof Date)){\r\n             var date1 = new Date(obj1[property]);\r\n             var date2 = new Date(obj2[property]);\r\n             if(!moment(date1).isSame(date2, 'year')\r\n                 || !moment(date1).isSame(date2, 'month')\r\n                 || !moment(date1).isSame(date2, 'day') ) {\r\n                 changes.push({\r\n                   property: property,\r\n                   oldValue:  obj2[property],\r\n                   newValue: obj1[property]\r\n                 });\r\n                 }\r\n         } else if(typeof obj1[property] === 'object'){\r\n            var areEqual = true;\r\n            for(var x in obj1[property]){\r\n              if(obj1[property][x] != obj2[property][x]) areEqual = false;\r\n            }\r\n            if(!areEqual){\r\n              changes.push({\r\n                property: property,\r\n                oldValue: obj2[property],\r\n                newValue: obj1[property]\r\n              });              \r\n            }\r\n         } else {\r\n             if(obj1[property] != obj2[property]) {\r\n                 if(!(obj1[property] === \"\"  && obj2[property] === undefined)){\r\n                     changes.push({\r\n                       property: property,\r\n                       oldValue: obj2[property],\r\n                       newValue: obj1[property]\r\n                     });\r\n                   }\r\n                 }\r\n             }\r\n         }\r\n     }\r\n     return changes;\r\n   }\r\n\r\n  /********************************************************************************\r\n  * Compare to arrays\r\n  ********************************************************************************/\r\n  arraysEqual(array1, array2){\r\n    var arraysEqual = true;\r\n    if(array1.length != array2.length) {\r\n      return false;\r\n    } else {\r\n      var newArray = new Array();\r\n      for(var i = 0; i<array1.length; i++){\r\n        newArray[i] = JSON.stringify(array1[i]);\r\n      }\r\n      for(var i = 0; i<array1.length; i++){\r\n          if(newArray.indexOf(JSON.stringify(array2[i])) == -1){\r\n            return false;\r\n          }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /************************************************************************************\r\n  * Copy one object into another, used when you want a completly new object and not a reference\r\n  * objFrom - object to copy from\r\n  * objTO - object to copy to\r\n  * properties - an array of specific properties to copy\r\n  ***********************************************************************************/\r\n   copyObject(objFrom, objTo, properties){\r\n     objTo = objTo || new Object();;\r\n     if(!properties){\r\n       for (var property in objFrom) {\r\n         if (objFrom.hasOwnProperty(property)) {\r\n           if(Array.isArray(objFrom[property])){\r\n             objTo[property] = this.copyArray(objFrom[property]);\r\n           } else if (objFrom[property] instanceof Date){\r\n             objTo[property] = objFrom[property];\r\n         } else if (this.isObject(objFrom[property])){\r\n             objTo[property] = this.copyObject(objFrom[property]);\r\n           } else {\r\n             objTo[property] = objFrom[property];\r\n           }\r\n         }\r\n       }\r\n     } else {\r\n       for(var i = 0, x = properties.length; i<x; i++){\r\n         if (objFrom.hasOwnProperty(properties[i])) {\r\n            if(Array.isArray(objFrom[property])){\r\n             objTo[property] = this.copyArray(objFrom[property]);\r\n           } else if (objFrom[property] instanceof Date){\r\n             objTo[property] = objFrom[property];\r\n           } else if (this.isObject(objFrom[property])){\r\n             objTo[property] = this.copyObject(objFrom[property]);\r\n           } else {\r\n             objTo[property] = objFrom[property];\r\n           }\r\n         }\r\n       }\r\n     }\r\n     return objTo;\r\n   }\r\n\r\n   /*******************************************************************************\r\n    * Return a copy of an array\r\n    *******************************************************************************/\r\n   copyArray(array){\r\n     if(array){\r\n       var newArray = new Array();\r\n       array.forEach((item) => {\r\n         if(Array.isArray(item)){\r\n             newArray.push(this.copyArray(item));\r\n         } else if (this.isObject(item)){\r\n             newArray.push(this.copyObject(item));\r\n         } else {\r\n             newArray.push(item);\r\n         }\r\n       })\r\n       return newArray;\r\n     }\r\n     return null;\r\n   }\r\n\r\n  /*********************************************************************************\r\n   * Test of a variable is an object\r\n  *********************************************************************************/\r\n  isObject(obj) {\r\n     return obj === Object(obj);\r\n  }\r\n\r\n  toCamelCase(str) {\r\n    return str.toLowerCase()\r\n      .replace( /['\"]/g, '' )\r\n      .replace( /\\W+/g, ' ' )\r\n      .replace( / (.)/g, function($1) { return $1.toUpperCase(); })\r\n      .replace( / /g, '' );\r\n  }\r\n\r\n  lookupValue(value, array, lookUpProperty, returnProperty){\r\n      if(!value || !array){\r\n        return;\r\n      }\r\n      for(var i = 0, x = array.length; i < x; i++){\r\n        if(array[i][lookUpProperty] == value) {\r\n            return array[i][returnProperty];\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n\r\n    isMobile(device){\r\n        switch(device){\r\n            case 'Android':\r\n                return navigator.userAgent.match(/Android/i);\r\n                break;\r\n            case 'iOS':\r\n                return navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n                break;\r\n            default:\r\n                 return  navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n                break;\r\n        }\r\n        // var isMobile = {\r\n        //     Android: function() {\r\n        //         return navigator.userAgent.match(/Android/i);\r\n        //     },\r\n        //     BlackBerry: function() {\r\n        //         return navigator.userAgent.match(/BlackBerry/i);\r\n        //     },\r\n        //     iOS: function() {\r\n        //         return navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n        //     },\r\n        //     Opera: function() {\r\n        //         return navigator.userAgent.match(/Opera Mini/i);\r\n        //     },\r\n        //     Windows: function() {\r\n        //         return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);\r\n        //     },\r\n        //     any: function() {\r\n        //         return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\r\n        //     }\r\n        // };\r\n    }\r\n\r\n  }\r\n","/**\r\n * Created by Ross on 11/30/2015.\r\n */\r\n import {transient} from 'aurelia-framework';\r\n\r\n @transient()\r\nexport default class {\r\n    ruleGroups = [];\r\n    rules = [];\r\n\r\n    initialize(context){\r\n      this.context = context;\r\n    }\r\n\r\n  /**\r\n   *\r\n   * @param ruleGroup - A group of rules\r\n   * @param field - Field the rule applies to\r\n   * @param rule - Rule is an object - rule: name of the rule, val: Value defining limit, valFunction: custom validation function\r\n     */\r\n    addRule = function(ruleGroup, field, rule, blur){\r\n\r\n      if(blur){\r\n        var that = this;\r\n        $(\"#\" + field).blur(function() {\r\n           that.validateRule(rule, field);\r\n        });\r\n      }\r\n\r\n      var index = -1;\r\n      //See if rule group exists already\r\n      for(var k = 0; k < this.rules.length; k++){\r\n        if(this.rules[k].ruleGroup === ruleGroup){\r\n          index = k;\r\n          break;\r\n        }\r\n      }\r\n\r\n      var fieldArray = [];\r\n      var ruleArray = []; //The rules that apply to a field\r\n      if( index === -1){ //This is a new rule group\r\n        this.rules.push({ruleGroup: ruleGroup, fields: fieldArray});\r\n        this.rules[this.rules.length-1].fields[0] = {field:field, rules:ruleArray};\r\n        this.rules[this.rules.length-1].fields[0].rules =  rule;\r\n\r\n      } else { //Existing rule group\r\n        var found = false;\r\n        // for(var i = 0; i<this.rules[index].fields.length; i++){\r\n        //   if(this.rules[index].fields[i].field === field){\r\n        //     this.rules[index].fields[i].rules.push(rule);\r\n        //     found = true;\r\n        //     break;\r\n        //   }\r\n\r\n        // }\r\n        if(!found){\r\n          this.rules[index].fields.push({field:field, rules:ruleArray});\r\n          this.rules[index].fields[this.rules[index].fields.length-1].rules =  rule;\r\n        }\r\n      }\r\n    };\r\n\r\n    validate = function(ruleGroup){\r\n      var index = -1;\r\n      for(var k = 0; k < this.rules.length; k++){\r\n        if(this.rules[k].ruleGroup == ruleGroup){\r\n          index = k;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if(index === -1){\r\n        return true;\r\n      } else {\r\n        var valid = true;\r\n        for(var i = 0; i < this.rules[index].fields.length; i++){\r\n          var fields = this.rules[index].fields[i];\r\n          var thisValid = true;\r\n          for(var k = 0; k < fields.rules.length; k++){\r\n            thisValid = true;\r\n            var rules = fields.rules[k];\r\n            thisValid =  this.validateRule(rules, fields.field);\r\n            if(!thisValid) {\r\n              valid = false;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return valid;\r\n\r\n    };\r\n\r\n    validateRule(rules, field){\r\n        var thisValid = true;\r\n        switch (rules.rule) {\r\n          case \"custom\":\r\n            thisValid = rules.valFunction(this.context);\r\n            break;\r\n          case \"required\":\r\n            if (!eval('this.context.' + rules.value) || eval('this.context.' + rules.value).length === 0) {\r\n              thisValid = false;\r\n            }\r\n            break;\r\n          case \"min\":\r\n            if (eval('this.context.' + rules.value) < rules.ruleValue) {\r\n              thisValid = false;\r\n            }\r\n            break;\r\n          case \"max\":\r\n            if (eval('this.context.' + rules.value) > rules.ruleValue) {\r\n              thisValid = false;\r\n            }\r\n            break;\r\n          case \"length\":\r\n           if (eval('this.context.' + rules.value).length > 0 && eval('this.context.' + rules.value).length < rules.ruleValue) {\r\n              thisValid = false;\r\n            }\r\n            break;\r\n        }\r\n        if(thisValid) {\r\n          if(thisValid) this.makeValid($(\"#\" + field));\r\n        } else {\r\n          this._inValidate(field, rules);\r\n        }\r\n        return thisValid;\r\n    }\r\n\r\n    _inValidate = function(field, rule ){\r\n      var el = $(\"#\" + field);\r\n      if(el.next().is(\"span.help-block\")){\r\n        el.next().html(rule.message);\r\n      } else {\r\n        var msg = \"<span class='help-block'>{message}</span>\".replace(\"{message}\", rule.message);\r\n      }\r\n      \r\n      if(el.is(':visible')){\r\n        if(!el.parent().hasClass(\"has-error\")){\r\n          el.parent().addClass(\"has-error\");\r\n          if(!el.next().is(\"span.help-block\")){\r\n            el.after(msg);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    makeValid = function(field){\r\n      field.parent().removeClass(\"has-error\");\r\n      if(field.next().is(\"span.help-block\")){\r\n        field.next().html(\"\");\r\n      }\r\n    }\r\n\r\n    makeAllValid = function(ruleGroup){\r\n       var index = -1;\r\n      for(var k = 0; k < this.rules.length; k++){\r\n        if(this.rules[k].ruleGroup == ruleGroup){\r\n          index = k;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if(index === -1){\r\n        return true;\r\n      } else {\r\n        for(var i = 0; i < this.rules[index].fields.length; i++){\r\n          this.makeValid($('#' + this.rules[index].fields[i].field));\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    clearRules(){\r\n      this.ruleGroups = [];\r\n      this.rules = [];\r\n    }\r\n\r\n    clearRuleGroup(group){\r\n      this.ruleGroups[group] = \"\";\r\n      this.rules.forEach((rule, index) => {\r\n        if(rule.ruleGroup == group) {\r\n          this.rules.splice(index, 1);\r\n        }\r\n      })\r\n    }\r\n\r\n}\r\n","export class AvailableReviewersValueConverter {\r\n    toView(value, reviewers) {\r\n        if(!value || !reviewers) return [];\r\n        let availableReviewers = [];\r\n        value.forEach(item => {\r\n            if (item.role.indexOf('reviewer') > -1) {\r\n                var keep = true;\r\n                reviewers.forEach(item2 => {\r\n                    if(item2._id === item._id) keep = false;\r\n                });\r\n            }\r\n            if(keep) availableReviewers.push(item);\r\n        })\r\n        return availableReviewers;\r\n    }\r\n}","export class ReviewersValueConverter {\n  toView(value, reviewers) {\n    if (!value) return [];\n    var reviewerArray = [];\n    var nonReviewerArray = [];\n    value.forEach(item => {\n      if (item.role.indexOf('reviewer') > -1) {\n        reviewerArray.push(item);\n      } else {\n        nonReviewerArray.push(item);\n      }\n    })\n    if (reviewers) {\n      return reviewerArray;\n    } else {\n      return nonReviewerArray\n    }\n  }\n\n  fromView(value) {\n\n  }\n}\n\n"],"sourceRoot":".."}